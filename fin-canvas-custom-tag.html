<!--

The `fin-canvas-custom-tag` element is a custom web component canvas control and includes a small ui framework for building custom components that render on the canvas.  This element exists as generalization on canvas to support the openfin [fin-hypergrid](http://github.com/openfin/fin-hypergrid) component.

@group OpenFin hypergrid
@element fin-canvas-custom-tag
@homepage http://github.com/stevewirts/fin-canvas
-->
<script src="../polymer/polymer.js"></script>

<link rel="import" href="fin-canvas-component.html">
<link rel="import" href="fin-canvas.html">

<polymer-element name="fin-canvas-custom-tag">
  <template>
    <fin-canvas id="canvas">
      <fin-canvas-component id="painter"></fin-canvas-component>
    </fin-canvas>
  </template>
  <script>
  (function(){
    Polymer({
      ready: function() {
        var canvas = this.$.canvas;
        var painter = this.$.painter;
        canvas.addEventListener('fin-click', function(e) {
          console.log('click ', e);
        });
        painter.paint = function(gc) {
            try {
                gc.save();
                var rect = this.getBounds();
                var lw = 5;
                gc.beginPath();
                gc.lineWidth = lw;
                gc.strokeStyle = 'pink';
                gc.rect(lw / 2, lw / 2, rect.width() - lw, rect.height() - lw);
                gc.stroke();
            } finally {
                gc.restore();
            }
        };
      }
    });
  })();
  </script>
</polymer-element>
